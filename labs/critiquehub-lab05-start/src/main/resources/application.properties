# ============================================================================
# CritiqueHub - Configuração Principal da Aplicação
# ============================================================================

# Informações da aplicação
quarkus.application.name=CritiqueHub
quarkus.application.version=1.0.0-SNAPSHOT

# ========================================================================
# Configuração do Datasource
# ========================================================================
# Configuração para ambiente de produção
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=critiquehub_user
quarkus.datasource.password=${DB_PASSWORD:prodpassword}
quarkus.datasource.jdbc.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:critiquehub}
quarkus.datasource.jdbc.initial-size=5
quarkus.datasource.jdbc.max-size=20
quarkus.datasource.jdbc.acquisition-timeout=60S
quarkus.datasource.jdbc.leak-detection-interval=10M

# ========================================================================
# Configuração JPA/Hibernate
# ========================================================================
quarkus.hibernate-orm.schema-management.strategy=validate
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.log.format-sql=false

# ========================================================================
# Configuração de Log
# ========================================================================
quarkus.log.level=INFO
quarkus.log.category."br.upf.ads175.critiquehub".level=DEBUG
quarkus.log.category."org.hibernate.SQL".level=WARN
quarkus.log.category."org.hibernate.type".level=WARN

# ============================================================================
# Perfis Específicos de Ambiente
# ============================================================================

# Ambiente de Desenvolvimento
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.username=critiquehub
%dev.quarkus.datasource.password=dev123
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:critiquehub;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

%dev.quarkus.hibernate-orm.schema-management.strategy=drop-and-create
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.hibernate-orm.log.format-sql=true

%dev.quarkus.log.level=INFO
%dev.quarkus.log.category."org.hibernate.SQL".level=DEBUG
%dev.quarkus.log.category."org.hibernate.type".level=DEBUG

# Ambiente de Testes
%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.username=test
%test.quarkus.datasource.password=test
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:test-critiquehub;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

%test.quarkus.hibernate-orm.schema-management.strategy=drop-and-create
%test.quarkus.hibernate-orm.log.sql=true

%test.quarkus.log.level=INFO
%test.quarkus.log.category."br.upf.ads175.critiquehub".level=DEBUG
